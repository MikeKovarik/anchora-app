<template>

	<require from="./custom-attribute-foreground"></require>

	<flexus-view>

		<div layout small-space>
			<div two-line flex-1 nowrap>
				<label for="http-port">HTTP Port</label>
				<input  id="http-port" type="number"
				value.bind="server.unsecurePort"
				disabled.bind="!server.unsecure">
			</div>
			<div two-line flex-1 nowrap>
				<label for="https-port">HTTPS Port</label>
				<input  id="https-port" type="number"
				value.bind="server.securePort"
				disabled.bind="!server.secure">
			</div>
			<div two-line flex-4>
				<label for="root">Root</label>
				<input  id="root" type="text"
				value.bind="server.root">
			</div>
		</div>

		<div fx-item>
			<label flex>
				<input type="checkbox" checked.bind="server.http">
				HTTP
			</label>
			<label flex>
				<input type="checkbox" checked.bind="server.https">
				HTTPS
			</label>
			<label flex title="Browsers only implement HTTP2 in secure mode. HTTP2 can never work on port 80.">
				<input type="checkbox" checked.bind="server.http2">
				HTTP/2.0
			</label>
			${server.http}
			${server.https}
			${server.http2}

			<div flex></div>

			<button
			disabled.bind="buttonDisabled"
			css="color: ${buttonColor}"
			click.trigger="onButtonClick()">
				${buttonText}
			</button>

		</div>

		<flexus-tabs subtle no-bar>
			<div>Settings</div>
			<div>Log</div>
			<!--div>Domains</div-->
			<div>About</div>
		</flexus-tabs>

		<flexus-pages>
			<compose narrow view="./settings.html"></compose>
			<div id="log">
				<div class="log-line" repeat.for="log of logger.list" foreground.one-time="log.color">
					<span if.one-time="logger.includeTimestamp" class="log-timestamp">
						${log.timestamp & oneTime}
					</span>
					<span class="log-text">${log.message & oneTime}</span>
				</div>
			</div>
			<!--compose narrow view="./custom-domains.html"></compose-->
			<div>
				<p>Created by Mike Kovařík, Mutiny.cz</p>
				<p>Found a bug or feel like contributing?</p>
				<p>You can find this <a href="https://github.com/MikeKovarik/anchora-app">app</a> and <a href="https://github.com/MikeKovarik/anchora">engine</a> on Github.</p>
			</div>
		</flexus-pages>

	</flexus-view>

</template>