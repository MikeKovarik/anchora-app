<template>

	<h4>General</h4>

	<label fx-item>
		<input type="checkbox" toggle checked.bind="autoStart">
		Start the server on app's launch
	</label>



	<h4>Caching</h4>

	<label vertical layout class="two-line-input">
		Cache-Control header
		<input flex type="text" value.bind="server.cacheControl">
	</label>

	<label fx-item>
		<input type="checkbox" toggle checked disabled>
		Server side cache. Stores frequently used files in memory.
	</label>

	<label fx-item>
		<input type="checkbox" toggle checked>
		Client side cache.
	</label>

	<label fx-item>
		<input type="checkbox" toggle disabled checked>
		ETag header in response. It makes caching more efficient, and saves bandwidth.
	</label>

	<label fx-item>
		<input type="checkbox" toggle disabled checked.bind="server.allow304">
		Respond with 304 Not Modified instead of 200 OK if the file hasn't changed since caching.
	</label>

	<!--label fx-item>
		<span flex>Cache memory size</span>
		<input flex type="number">
	</label-->

	<!--label fx-item>
		<span flex>Max size of cached file</span>
		<input flex type="number">
	</label-->



	<h4>CORS</h4>

	<label fx-item>
		<input type="checkbox" toggle checked.bind="server.cors">
		Include Cross Domain headers in responses.
	</label>

	<fieldset show.bind="server.cors">

		<label fx-item>
			<input type="checkbox" toggle checked.bind="server.corsCredentials">
			Access-Control-Allow-Credentials
		</label>

		<label vertical layout class="two-line-input">
			Access-Control-Allow-Origin
			<input type="text" value.bind="server.corsOrigin">
		</label>

		<label vertical layout class="two-line-input">
			Access-Control-Allow-Methods
			<input type="text" value.bind="server.corsMethods">
		</label>

		<label vertical layout class="two-line-input">
			Access-Control-Allow-Headers
			<input type="text" value.bind="server.corsHeaders">
		</label>

	</fieldset>



	<h4>Compression</h4>

	<p>Anchora currently supports GZip and Deflate.</p>

	<label fx-item>
		<input type="radio" value="active" checked.bind="server.encoding">
		Active mode: Compresses all files at the time of request.
	</label>

	<label fx-item>
		<input type="radio" value="passive" checked.bind="server.encoding">
		Passive mode: Tries to send pre-compressed .gz variants of files.
	</label>

	<label fx-item>
		<input type="radio" value="false" checked.bind="server.encoding">
		No compression. Files are server as are.
	</label>
<!--
	<label fx-item>
		<input type="checkbox"> GZip
	</label>

	<label fx-item>
		<input type="checkbox"> Deflate
	</label>

	<label fx-item>
		<input type="checkbox" disabled> Brotli
	</label>
-->


	<h4>HTTPS</h4>

	<label fx-item>
		<input type="checkbox" toggle checked.bind="server.allowUpgrade">
		Allow upgrading from HTTP to HTTPS if requested with Upgrade-Insecure-Requests header.
	</label>

	<label fx-item>
		<input type="checkbox" toggle checked.bind="server.forceUpgrade">
		Force all insecure HTTP connections to upgrade to HTTPS by redirecting all HTTP requests.
	</label>

	<label fx-item>
		<input type="checkbox" toggle checked.bind="generateCerts">
		Generate and install self-signed certificate.
	</label>

	<fieldset show.bind="!generateCerts">

		<p fx-item>
			Please insert paths to certificate to use for HTTPS.
		</p>

		<label fx-item>
			<div flex>.crt file path</div>
			<input flex type="text">
		</label>

		<label fx-item>
			<div flex>.key file path</div>
			<input flex type="text">
		</label>

	</fieldset>



	<!--
	<h4>Custom MIME types</h4>
	<div layout small-space>
		<div flex-1>Extension</div>
		<div flex-4 for="root">MIME</div>
	</div>
	<div layout small-space>
		<input flex-1 type="text">
		<input flex-4 type="text">
	</div>
	-->



	<h4>PHP / CGI (Experimental)</h4>

	<label vertical layout class="two-line-input">
		<span flex>Path to php-cgi.exe</span>
		<input flex type="text" value.bind="server.phpPath">
	</label>

	<p secondary>If you'd like to see support for more CGI powered scripting languages, report a bug or help with development, please chekc out Anchora's Gitub repo. Basic implementation of CGI interface is in place so help with testing it is welcomed.</p>



	<h4>Logging</h4>

	<p>This is a developer's territory. You probably don't need to change anything here.</p>

	<label fx-item>
		<input type="radio" value="errors" checked.bind="logger.format">
		Log only errors and warnings
	</label>

	<label fx-item>
		<input type="radio" value="all" checked.bind="logger.format">
		Log everything (affects performance)
	</label>

	<label fx-item>
		<input type="checkbox" checked.bind="logger.includeTimestamp">
		Include timestamps
	</label>

	<label fx-item>
		<input type="checkbox" checked.bind="logger.includeStack">
		Include stack trace
	</label>


</template>